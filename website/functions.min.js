function filter_specials(e){"use strict";var t=e,n=0;$("#daily_specials tr").each(function(){var e=new RegExp(t,"i"),r,i,s;if(t.length===0){$("#daily_specials").show();n=1;$(this).show()}else{r=$(this).find("td");if(r.html()!==null){i=r.eq(0).text();s=r.eq(1).text();if(i.search(e)!==-1||s.search(e)!==-1){$(this).show();n+=1}else{$(this).hide()}}}});if(n===0){$("#daily_specials").hide()}else{$("#daily_specials").show()}}function random_filter(){"use strict";var e=$("#daily_specials tr").length-1;var t=Math.ceil(Math.random()*e);var n=$("#daily_specials tr:nth-child("+t+")").find("strong").text();$(".search").val(n);filter_specials(n)}$(function(){"use strict";$("input.search").focus();var e="get_json.php";var t=false;$.ajax({async:false,dataType:"json",url:e,type:"GET",success:function(e){if(e.length===0){$("#daily_specials thead").replaceWith("<tr><td><strong>Tji fick du, hittade inga luncher idag!</strong></td></tr>");t=true}else{$.each(e,function(e,t){var n="";$.each(t.specials,function(e,t){n+=t+"<br/>"});$("#daily_specials > tbody:last").append('<tr><td valign="top">'+'<strong><a href="'+t.dataurl+'">'+t.name+"</a></strong>"+'<br/><a href="'+t.mapurl+'"><small>'+t.streetaddress+"</small></td>"+'<td valign="top">'+n+"</td></tr>")})}}});var n=window.location.href;var r=window.location.href.search("#");if(r>0){var i=decodeURIComponent(n.substr(r+1));$(".search").val(i);filter_specials(i)}$(".search").keyup(function(){if(t){return}filter_specials($(this).val())})})
