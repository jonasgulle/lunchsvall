function filter_specials(e){"use strict";var t=e,i=0;$("#daily_specials tr").each(function(){var e,n,a,s=new RegExp(t,"i");0===t.length?($("#daily_specials").show(),i=1,$(this).show()):(e=$(this).find("td"),null!==e.html()&&(n=e.eq(0).text(),a=e.eq(1).text(),-1!==n.search(s)||-1!==a.search(s)?($(this).show(),i+=1):$(this).hide()))}),0===i?$("#daily_specials").hide():$("#daily_specials").show()}function random_filter(){"use strict";var e=$("#daily_specials tr").length-1,t=Math.ceil(Math.random()*e),i=$("#daily_specials tr:nth-child("+t+")").find("strong").text();$(".search").val(i),filter_specials(i)}$(function(){"use strict";$("input.search").focus();var e="http://gulle.se/api/lunch/?callback=?",t=!1;$.getJSON(e).done(function(e){0===e.length?($("#daily_specials thead").replaceWith("<tr><td><strong>Tji fick du, hittade inga luncher idag!</strong></td></tr>"),t=!0):$.each(e,function(e,t){var i="";$.each(t.specials,function(e,t){i+=t+"<br/>"}),$("#daily_specials > tbody:last").append('<tr><td valign="top"><strong><a href="'+t.dataurl+'">'+t.name+"</a></strong>"+'<br/><a href="'+t.mapurl+'"><small>'+t.streetaddress+"</small></td>"+'<td valign="top">'+i+"</td></tr>")})});var i=window.location.href,n=window.location.href.search("#");if(n>0){var a=decodeURIComponent(i.substr(n+1));$(".search").val(a),filter_specials(a)}$(".search").keyup(function(){t||filter_specials($(this).val())})});