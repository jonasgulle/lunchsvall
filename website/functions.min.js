function filter_specials(t){"use strict"
var a=t,e=0
$("#daily_specials tr").each(function(){var t,i,s,l=new RegExp(a,"i")
0===a.length?($("#daily_specials").show(),e=1,$(this).show()):(t=$(this).find("td"),null!==t.html()&&(i=t.eq(0).text(),s=t.eq(1).text(),-1!==i.search(l)||-1!==s.search(l)?($(this).show(),e+=1):$(this).hide()))}),0===e?$("#daily_specials").hide():$("#daily_specials").show()}function random_filter(){"use strict"
var t=$("#daily_specials tr").length-1,a=Math.ceil(Math.random()*t),e=$("#daily_specials tr:nth-child("+a+")").find("strong").text()
$(".search").val(e),filter_specials(e)}$(function(){"use strict"
$("input.search").focus()
var t="//gulle.se/api/lunch/?callback=?",a=!1
$.getJSON(t).done(function(t){0===t.length?($("#daily_specials thead").replaceWith("<tr><td><strong>Tji fick du, hittade inga luncher idag!</strong></td></tr>"),a=!0):$.each(t,function(t,a){var e=""
$.each(a.specials,function(t,a){e+=a+"<br/>"}),$("#daily_specials > tbody:last").append('<tr><td valign="top"><strong><a href="'+a.dataurl+'">'+a.name+'</a></strong><br/><a href="'+a.mapurl+'"><small>'+a.streetaddress+'</small></td><td valign="top">'+e+"</td></tr>")})})
var e=window.location.href,i=window.location.href.search("#")
if(i>0){var s=decodeURIComponent(e.substr(i+1))
$(".search").val(s),filter_specials(s)}$(".search").keyup(function(){a||filter_specials($(this).val())})})
